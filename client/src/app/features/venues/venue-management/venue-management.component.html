<div class="page-container">
  <div class="header-section">
    <h2>Manage Venues</h2>
    <p class="subtitle">Add and update venue details for your events.</p>
  </div>

  <div class="content-wrapper">
    <!-- Form Section -->
    <div class="card form-card">
      <div class="card-header">
        <h3>{{ editingVenue ? 'Edit Venue' : 'Add New Venue' }}</h3>
      </div>
      <div class="card-body">
        <form (ngSubmit)="onSubmit()">
          <div class="form-grid">
            <!-- Row 1: Name -->
            <div class="form-group full-width">
              <label for="name">Venue Name</label>
              <input type="text" id="name" name="name" [(ngModel)]="currentVenue.name" placeholder="e.g. Grand Hall" required>
            </div>

            <!-- Row 2: Address -->
            <div class="form-group full-width">
              <label for="address">Street Address</label>
              <input type="text" id="address" name="address" [(ngModel)]="currentVenue.address" placeholder="e.g. 123 Main St" required>
            </div>

            <!-- Row 3: Location Details -->
            <div class="form-group">
              <label for="city">City</label>
              <input type="text" id="city" name="city" [(ngModel)]="currentVenue.city" required>
            </div>
            <div class="form-group">
              <label for="state">State</label>
              <input type="text" id="state" name="state" [(ngModel)]="currentVenue.state" required>
            </div>
            <div class="form-group">
              <label for="zip">Zip Code</label>
              <input type="text" id="zip" name="zip" [(ngModel)]="currentVenue.zip" required>
            </div>

            <!-- Row 4: Capacity -->
            <div class="form-group">
              <label for="capacity">Capacity</label>
              <div class="input-with-suffix">
                <input type="number" id="capacity" name="capacity" [(ngModel)]="currentVenue.capacity" min="1" required>
                <span>seats</span>
              </div>
            </div>
          </div>

          <div class="form-actions">
            @if (editingVenue) {
              <button type="button" (click)="cancelEdit()" class="btn btn-ghost">Cancel</button>
            }
            <button type="submit" class="btn btn-primary">{{ editingVenue ? 'Update Venue' : 'Create Venue' }}</button>
          </div>
        </form>
      </div>
    </div>

    <!-- List Section -->
    <div class="card list-card">
      <div class="card-header">
        <h3>Existing Venues</h3>
      </div>
      <div class="card-body table-responsive">
        <table>
          <thead>
            <tr>
              <th>Venue Name</th>
              <th>Address</th>
              <th>Location</th>
              <th>Capacity</th>
              <th class="text-right">Actions</th>
            </tr>
          </thead>
          <tbody>
            @for (venue of venues; track venue._id) {
              <tr>
                <td class="font-medium">{{ venue.name }}</td>
                <td>{{ venue.address }}</td>
                <td>{{ venue.city }}, {{ venue.state }} {{ venue.zip }}</td>
                <td>{{ venue.capacity | number }}</td>
                <td class="text-right action-buttons">
                  <button (click)="onEdit(venue)" class="btn btn-sm btn-edit">Edit</button>
                  <button (click)="onDelete(venue._id!)" class="btn btn-sm btn-delete">Delete</button>
                </td>
              </tr>
            } @empty {
              <tr>
                <td colspan="5" class="empty-state">
                  <p>No venues found.</p>
                  <p class="small">Add a venue above to get started.</p>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>